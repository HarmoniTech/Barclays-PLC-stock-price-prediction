<!DOCTYPE html>
<html>
<!-- <script type="text/javascript" {{ url_for('static', filename='app.js')}}></script> -->
<script type="text/javascript" src="{{ url_for('static', filename='app.js') }}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

<body style="display: flex; justify-content: center; align-items: center;">
    
    <canvas id="myChart" style="width:100%;"></canvas>

<script>
dates = getDates({{data|tojson}})

open_past = getOpenPast({{data|tojson}})
open_future = getOpenFuture({{data|tojson}})
close_past = getClosePast({{data|tojson}})
close_future = getCloseFuture({{data|tojson}})
high_past = getHighPast({{data|tojson}})
high_future = getHighFuture({{data|tojson}})
low_past = getLowPast({{data|tojson}})
low_future = getLowFuture({{data|tojson}})

const xValues = dates;

const pastOpenValue = open_past;
const futureOpenValue = open_future;
const pastCloseValue = close_past;
const futureCloseValue = close_future;
const pastHighValue = high_past;
const futureHighValue = high_future;
const pastLowValue = low_past;
const futureLowValue = low_future;

new Chart("myChart", {
  type: "line",
  data: {
    labels: xValues,
    datasets: [{
      label: 'Open Price Past Value',
      fill: false,
      lineTension: 0,
      backgroundColor: "rgba(255,0,0,1.0)",
      borderColor: "rgba(255,0,0,0.5)",
      data: pastOpenValue
    },
    {
      label: 'Open Price Future Prediction',
      fill: false,
      lineTension: 0,
      backgroundColor: "rgba(255,0,0,1.0)",
      borderColor: "rgba(255,0,0,0.5)",
      data: futureOpenValue,
      borderDash: [5, 5]
    },
    {
      label: 'Close Price Past Value',
      fill: false,
      lineTension: 0,
      backgroundColor: "rgba(0,255,0,1.0)",
      borderColor: "rgba(0,255,0,0.5)",
      data: pastCloseValue
    },
    {
      label: 'Close Price Future Prediction',
      fill: false,
      lineTension: 0,
      backgroundColor: "rgba(0,255,0,1.0)",
      borderColor: "rgba(0,255,0,0.5)",
      data: futureCloseValue,
      borderDash: [5, 5]
    },
    {
      label: 'High Price Past Value',
      fill: false,
      lineTension: 0,
      backgroundColor: "rgba(0,0,255,1.0)",
      borderColor: "rgba(0,0,255,0.5)",
      data: pastHighValue
    },
    {
      label: 'High Price Future Prediction',
      fill: false,
      lineTension: 0,
      backgroundColor: "rgba(0,0,255,1.0)",
      borderColor: "rgba(0,0,255,0.5)",
      data: futureHighValue,
      borderDash: [5, 5]
    },
    {
      label: 'Low Price Past Value',
      fill: false,
      lineTension: 0,
      backgroundColor: "rgba(0,0,0,1.0)",
      borderColor: "rgba(0,0,0,0.5)",
      data: pastLowValue
    },
    {
      label: 'Low Price Future Prediction',
      fill: false,
      lineTension: 0,
      backgroundColor: "rgba(0,0,0,1.0)",
      borderColor: "rgba(0,0,0,0.5)",
      data: futureLowValue,
      borderDash: [5, 5]
    }
  ]
  },
  options: {
    legend: {display: false},
    scales: {
        yAxes: [
            {
                gridLines : {
                    display : false
                }
            }
        ],
        xAxes : [ {
            gridLines : {
                display : false
            }
        } ]
    }
  }
});
</script>

</body>
</html>
